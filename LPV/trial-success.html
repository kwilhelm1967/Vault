<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <title>Your Trial is Ready! - Local Password Vault</title>
  <meta name="description" content="Your Local Password Vault trial key is ready. Download the app and start protecting your passwords.">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --bg-dark: #0a0f1a;
      --bg-darker: #060912;
      --bg-card: #111827;
      --cyan: #06b6d4;
      --cyan-light: #22d3ee;
      --cyan-dark: #0891b2;
      --cyan-glow: rgba(6, 182, 212, 0.3);
      --green: #10b981;
      --green-dark: #059669;
      --text-primary: #f9fafb;
      --text-secondary: #9ca3af;
      --text-muted: #6b7280;
      --border-subtle: rgba(255, 255, 255, 0.08);
      --gradient-cyan: linear-gradient(135deg, #22d3ee 0%, #0891b2 100%);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; font-size: 16px; -webkit-text-size-adjust: 100%; text-size-adjust: 100%; }
    body { font-family: 'Inter', sans-serif; background: var(--bg-darker); color: var(--text-primary); line-height: 1.6; min-height: 100vh; font-size: 16px; }

    nav { position: fixed; top: 0; left: 0; right: 0; z-index: 1000; padding: 1rem 2rem; background: rgba(6, 9, 18, 0.95); backdrop-filter: blur(20px); border-bottom: 1px solid var(--border-subtle); }
    .nav-container { max-width: 1600px; width: 92%; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; }
    .logo { display: flex; align-items: center; gap: 12px; text-decoration: none; }
    .logo-icon { width: 44px; height: 44px; background: var(--bg-dark); border-radius: 10px; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px var(--cyan-glow), inset 0 0 0 1px var(--cyan-dark); }
    .logo-icon svg { width: 24px; height: 24px; stroke: var(--cyan); fill: none; }
    .logo-text { font-family: 'Space Grotesk', sans-serif; font-size: 1.15rem; font-weight: 600; color: var(--text-primary); }
    .nav-links { display: flex; align-items: center; gap: 2rem; }
    .nav-links a { color: var(--text-secondary); text-decoration: none; font-size: 0.95rem; font-weight: 500; transition: color 0.2s; }
    .nav-links a:hover { color: var(--cyan); }
    .nav-cta { padding: 10px 24px; background: var(--gradient-cyan); color: var(--bg-darker) !important; border-radius: 8px; font-weight: 600; }

    .animate { opacity: 0; transform: translateY(30px); transition: opacity 0.6s ease, transform 0.6s ease; }
    .animate.visible { opacity: 1; transform: translateY(0); }
    .delay-1 { transition-delay: 0.1s; }
    .delay-2 { transition-delay: 0.2s; }
    .delay-3 { transition-delay: 0.3s; }

    .success-page {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 120px 1.5rem 40px;
      background: linear-gradient(180deg, var(--bg-dark) 0%, var(--bg-darker) 100%);
    }

    .success-container {
      max-width: 650px;
      width: 100%;
    }

    .success-card {
      background: var(--bg-card);
      border-radius: 20px;
      padding: 24px;
      border: 1px solid var(--border-subtle);
      text-align: center;
    }
    
    @media (min-width: 768px) {
      .success-card {
        padding: 28px;
      }
    }

    .success-icon {
      width: 56px;
      height: 56px;
      background: var(--gradient-cyan);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 12px;
      box-shadow: 0 8px 32px var(--cyan-glow), 0 0 0 1px rgba(6, 182, 212, 0.2);
    }

    .success-icon svg {
      width: 28px;
      height: 28px;
      stroke: white;
      stroke-width: 3;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    .success-card h1 {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 6px;
    }
    
    @media (min-width: 768px) {
      .success-card h1 {
        font-size: 1.75rem;
        margin-bottom: 8px;
      }
    }

    .success-card .subtitle {
      color: var(--text-secondary);
      margin-bottom: 20px;
      font-size: 0.95rem;
    }

    /* Trial Key Section */
    .trial-key-section {
      background: var(--bg-darker);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 20px;
      border: 1px solid var(--cyan-dark);
    }

    .trial-key-label {
      font-size: 0.8rem;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 8px;
    }

    .trial-key-display {
      display: flex;
      align-items: center;
      gap: 12px;
      justify-content: center;
    }

    .trial-key {
      font-family: 'Space Grotesk', monospace;
      font-size: 1.25rem;
      font-weight: 700;
      color: var(--cyan);
      letter-spacing: 2px;
      padding: 10px 16px;
      background: rgba(6, 182, 212, 0.1);
      border-radius: 8px;
      border: 1px dashed var(--cyan-dark);
    }
    
    @media (min-width: 768px) {
      .trial-key {
        font-size: 1.35rem;
      }
    }

    .copy-btn {
      padding: 10px 14px;
      background: var(--gradient-cyan);
      color: var(--bg-darker);
      border: none;
      border-radius: 8px;
      font-weight: 600;
      font-size: 0.9rem;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    
    .copy-btn:hover {
      box-shadow: 0 8px 24px var(--cyan-glow);
    }

    .copy-btn:hover {
      transform: scale(1.05);
    }

    .copy-btn svg {
      width: 18px;
      height: 18px;
    }

    .key-note {
      font-size: 0.8rem;
      color: var(--text-muted);
      margin-top: 10px;
    }

    .key-note svg {
      width: 14px;
      height: 14px;
      color: var(--cyan);
      stroke: var(--cyan);
      vertical-align: middle;
      margin-right: 4px;
    }

    /* Download Section */
    .download-section {
      margin-bottom: 20px;
    }

    .download-section h2 {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 1.1rem;
      margin-bottom: 12px;
    }
    
    @media (min-width: 768px) {
      .download-section h2 {
        font-size: 1.2rem;
        margin-bottom: 14px;
      }
    }

    .download-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
    }

    .download-btn {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      padding: 16px 12px;
      background: var(--bg-darker);
      border: 1px solid var(--border-subtle);
      border-radius: 12px;
      text-decoration: none;
      color: var(--text-primary);
      transition: border-color 0.2s, transform 0.2s, box-shadow 0.2s;
    }

    .download-btn:hover {
      border-color: var(--cyan-dark);
      transform: translateY(-3px);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
    }

    .download-btn svg {
      width: 28px;
      height: 28px;
      stroke: var(--cyan);
    }
    
    .download-btn svg[fill="currentColor"],
    .download-btn svg[fill="var(--cyan)"],
    .download-btn svg[style*="fill"] {
      stroke: none !important;
      fill: var(--cyan) !important;
    }

    .download-btn .os-name {
      font-weight: 600;
      font-size: 0.9rem;
    }

    .download-btn .os-detail {
      font-size: 0.75rem;
      color: var(--text-muted);
    }

    /* Documentation Download Buttons */
    .docs-btn {
      background: rgba(6, 182, 212, 0.05);
      border-color: rgba(6, 182, 212, 0.2);
    }

    .docs-btn:hover {
      background: rgba(6, 182, 212, 0.1);
      border-color: var(--cyan-dark);
    }

    .docs-btn svg {
      stroke: var(--cyan-light);
    }

    /* Steps Section */
    .steps-section {
      text-align: left;
      background: var(--bg-darker);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 16px;
    }

    .steps-section h3 {
      font-size: 0.9rem;
      font-weight: 600;
      margin-bottom: 10px;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .step-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .step-item {
      display: flex;
      align-items: flex-start;
      gap: 12px;
    }

    .step-number {
      width: 26px;
      height: 26px;
      background: var(--gradient-cyan);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 0.8rem;
      color: var(--bg-darker);
      flex-shrink: 0;
    }

    .step-content {
      flex: 1;
    }

    .step-content strong {
      display: block;
      margin-bottom: 3px;
      font-size: 0.9rem;
    }

    .step-content p {
      font-size: 0.85rem;
      color: var(--text-secondary);
    }

    /* Upgrade CTA */
    .upgrade-cta {
      padding: 14px;
      background: linear-gradient(135deg, rgba(6, 182, 212, 0.1) 0%, rgba(8, 145, 178, 0.1) 100%);
      border: 1px solid var(--cyan-dark);
      border-radius: 12px;
    }

    .upgrade-cta p {
      color: var(--text-secondary);
      margin-bottom: 0;
      font-size: 0.9rem;
    }

    .upgrade-cta a {
      color: var(--cyan);
      font-weight: 600;
      text-decoration: none;
    }

    .upgrade-cta a:hover {
      text-decoration: underline;
    }

    @media (max-width: 768px) {
      .nav-links { display: none; }
      .success-card { padding: 20px; }
      .download-grid { grid-template-columns: 1fr; }
      .trial-key-display { flex-direction: column; }
      .trial-key { font-size: 1.1rem; word-break: break-all; }
      .copy-btn { width: 100%; justify-content: center; }
    }
  </style>
</head>
<body>
  <nav>
    <div class="nav-container">
      <a href="index.html" class="logo">
        <div class="logo-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg></div>
        <span class="logo-text">Local Password Vault</span>
      </a>
      <div class="nav-links">
        <a href="features.html">Features</a>
        <a href="about.html">About</a>
        <a href="security.html">Security</a>
        <a href="pricing.html">Pricing</a>
        <a href="faq.html">FAQs</a>
        <a href="pricing.html" class="nav-cta">Get Started</a>
      </div>
    </div>
  </nav>

  <section class="success-page">
    <div class="success-container">
      <div class="success-card animate visible">
        <div class="success-icon animate delay-1">
          <svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="20 6 9 17 4 12"/>
          </svg>
        </div>
        
        <h1 class="animate delay-1">You're All Set!</h1>
        <p class="subtitle animate delay-2">Your 7-day trial is ready. Here's everything you need to get started.</p>
        
        <!-- Trial Key -->
        <div class="trial-key-section animate delay-2">
          <p class="trial-key-label">Your Trial License Key</p>
          <div class="trial-key-display">
            <span class="trial-key" id="trialKey">TRIAL-XXXX-XXXX-XXXX</span>
            <button class="copy-btn" onclick="copyKey()">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
              Copy
            </button>
          </div>
          <p class="key-note">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
            An email has been sent with your trial key.
          </p>
        </div>

        <!-- Download Section -->
        <div class="download-section animate delay-3">
          <h2>Step 1: Download the App</h2>
          <div class="download-grid">
            <a href="https://github.com/kwilhelm1967/Vault/releases/latest/download/Local.Password.Vault.Setup.1.2.0.zip" class="download-btn">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                <line x1="8" y1="21" x2="16" y2="21"/>
                <line x1="12" y1="17" x2="12" y2="21"/>
              </svg>
              <span class="os-name">Windows</span>
              <span class="os-detail">.exe installer</span>
            </a>
            <a href="https://github.com/kwilhelm1967/Vault/releases/latest/download/Local%20Password%20Vault-1.2.0-mac.dmg" class="download-btn">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--cyan)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-apple" style="width: 28px; height: 28px;">
                <path d="M12 6.528V3a1 1 0 0 1 1-1h0"/>
                <path d="M18.237 21A15 15 0 0 0 22 11a6 6 0 0 0-10-4.472A6 6 0 0 0 2 11a15.1 15.1 0 0 0 3.763 10 3 3 0 0 0 3.648.648 5.5 5.5 0 0 1 5.178 0A3 3 0 0 0 18.237 21"/>
              </svg>
              <span class="os-name">macOS</span>
              <span class="os-detail">.dmg installer</span>
            </a>
            <a href="https://github.com/kwilhelm1967/Vault/releases/latest/download/Local%20Password%20Vault-1.2.0.AppImage" class="download-btn">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <path d="M4 12h16M8 8l-4 4 4 4M16 8l4 4-4 4"/>
              </svg>
              <span class="os-name">Linux</span>
              <span class="os-detail">.AppImage</span>
            </a>
          </div>
        </div>

        <!-- Steps -->
        <div class="steps-section animate delay-3">
          <h3>Quick Setup Guide</h3>
          <div class="step-list">
            <div class="step-item">
              <span class="step-number">1</span>
              <div class="step-content">
                <strong>Download and Install</strong>
                <p>Choose your operating system above and install the app.</p>
              </div>
            </div>
            <div class="step-item">
              <span class="step-number">2</span>
              <div class="step-content">
                <strong>Enter Your Trial Key</strong>
                <p>When prompted, paste the license key shown above.</p>
              </div>
            </div>
            <div class="step-item">
              <span class="step-number">3</span>
              <div class="step-content">
                <strong>Create Your Master Password</strong>
                <p>Choose a strong, memorable password. This is the only key to your vault.</p>
              </div>
            </div>
            <div class="step-item">
              <span class="step-number">4</span>
              <div class="step-content">
                <strong>Start Adding Passwords</strong>
                <p>You're ready! Begin storing your passwords securely.</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Upgrade CTA -->
        <div class="upgrade-cta animate delay-3">
          <p>Loving the trial? <a href="pricing.html">Upgrade anytime</a> for lifetime access.</p>
        </div>
      </div>
    </div>
  </section>

  <script>
    // API base URL - Production uses api.localpasswordvault.com
    const API_BASE_URL = (() => {
      const hostname = window.location.hostname;
      // Production domains
      if (hostname === 'localpasswordvault.com' || hostname === 'www.localpasswordvault.com') {
        return 'https://api.localpasswordvault.com';
      }
      // Fallback: if domain not configured, use IP (for testing)
      // In production, api.localpasswordvault.com should point to the server
      return 'https://api.localpasswordvault.com';
    })();

    // Animation observer
    document.addEventListener('DOMContentLoaded', function() {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) entry.target.classList.add('visible');
        });
      }, { threshold: 0.1 });
      document.querySelectorAll('.animate').forEach(el => observer.observe(el));
      
      // Get trial key from URL params
      const urlParams = new URLSearchParams(window.location.search);
      const email = urlParams.get('email');
      const keyFromUrl = urlParams.get('key');
      
      if (keyFromUrl && keyFromUrl.trim() !== '') {
        // Use key from URL if provided
        document.getElementById('trialKey').textContent = keyFromUrl;
      } else if (email) {
        // If key not in URL but email provided, try to fetch from backend
        // This handles cases where user navigates directly or key wasn't passed
        fetch(`${API_BASE_URL}/api/trial/status/${encodeURIComponent(email)}`)
          .then(res => res.json())
          .then(data => {
            if (data.hasTrial && !data.isExpired) {
              // Key should have been in URL, but show helpful message
              document.getElementById('trialKey').textContent = 'Check your email for your trial key';
              document.querySelector('.key-note').innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg> Your trial key has been sent to your email address.';
            } else {
              document.getElementById('trialKey').textContent = 'Trial not found';
            }
          })
          .catch(err => {
            console.error('Error fetching trial status:', err);
            document.getElementById('trialKey').textContent = 'Check your email for your trial key';
          });
      } else {
        // No email or key provided, show generic message
        document.getElementById('trialKey').textContent = 'Check your email for your trial key';
      }
    });

    // Copy key to clipboard
    function copyKey() {
      const key = document.getElementById('trialKey').textContent;
      navigator.clipboard.writeText(key).then(() => {
        const btn = document.querySelector('.copy-btn');
        btn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg> Copied!';
        setTimeout(() => {
          btn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy';
        }, 2000);
      });
    }

    // Track documentation download
    function trackDocDownload(os) {
      // Optional: Add analytics tracking here
      console.log('Documentation download initiated for:', os);
      
      // Optional: Highlight the selected button
      const buttons = document.querySelectorAll('.docs-btn');
      buttons.forEach(btn => {
        if (btn.dataset.os === os) {
          btn.style.borderColor = 'var(--cyan)';
          btn.style.boxShadow = '0 0 0 2px rgba(6, 182, 212, 0.3)';
          setTimeout(() => {
            btn.style.borderColor = '';
            btn.style.boxShadow = '';
          }, 1000);
        }
      });
    }
  </script>
</body>
</html>



