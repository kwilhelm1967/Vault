<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <title>Support - Local Password Vault</title>
  <meta name="description" content="Get help with Local Password Vault. Email support, FAQs, and troubleshooting guides.">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Space+Grotesk:wght@500;600;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --bg-dark: #0a0f1a;
      --bg-darker: #060912;
      --bg-card: #111827;
      --cyan: #06b6d4;
      --cyan-light: #22d3ee;
      --cyan-dark: #0891b2;
      --cyan-glow: rgba(6, 182, 212, 0.3);
      --green: #10b981;
      --text-primary: #f9fafb;
      --text-secondary: #9ca3af;
      --text-muted: #6b7280;
      --border-subtle: rgba(255, 255, 255, 0.08);
      --gradient-cyan: linear-gradient(135deg, #22d3ee 0%, #0891b2 100%);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; font-size: 16px; -webkit-text-size-adjust: 100%; text-size-adjust: 100%; }
    body { font-family: 'Inter', sans-serif; background: var(--bg-darker); color: var(--text-primary); line-height: 1.6; font-size: 16px; }

    .animate { opacity: 0; transform: translateY(40px); transition: opacity 0.8s ease, transform 0.8s ease; }
    .animate.visible { opacity: 1; transform: translateY(0); }
    .delay-1 { transition-delay: 0.1s; }
    .delay-2 { transition-delay: 0.2s; }
    .delay-3 { transition-delay: 0.3s; }

    /* Navigation */
    nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      padding: 1rem 2rem;
      background: rgba(6, 9, 18, 0.95);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border-subtle);
    }

    .nav-container {
      max-width: 1600px;
      width: 92%;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 12px;
      text-decoration: none;
    }

    .logo-icon {
      width: 44px;
      height: 44px;
      background: transparent;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: none;
      position: relative;
    }

    .logo-icon svg {
      width: 28px;
      height: 28px;
      stroke: var(--cyan);
      fill: none;
      stroke-width: 2.5;
      filter: drop-shadow(0 0 2px rgba(6, 182, 212, 0.5));
    }

    .logo-text {
      font-family: 'Poppins', sans-serif;
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--text-primary);
    }

    .nav-links {
      display: flex;
      align-items: center;
      gap: 2rem;
    }

    .nav-links a {
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 0.95rem;
      font-weight: 500;
      transition: color 0.2s;
    }

    .nav-links a:hover,
    .nav-links a.active { color: var(--cyan); }

    .nav-cta {
      padding: 10px 24px;
      background: var(--gradient-cyan);
      color: var(--bg-darker) !important;
      border-radius: 8px;
      font-weight: 600;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .nav-cta:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px var(--cyan-glow);
    }

    /* Mobile Menu Toggle Button */
    .menu-toggle {
      display: none;
      background: none;
      border: none;
      cursor: pointer;
      padding: 8px;
      color: var(--text-primary);
      z-index: 1001;
      position: relative;
    }

    .menu-toggle svg {
      width: 24px;
      height: 24px;
      stroke: currentColor;
      stroke-width: 2.5;
    }

    /* Mobile Dropdown Menu */
    .mobile-menu {
      display: none;
      position: fixed;
      top: 60px;
      left: 0;
      right: 0;
      background: rgba(6, 9, 18, 0.98);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border-subtle);
      padding: 1rem 0;
      z-index: 999;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease, opacity 0.3s ease;
      opacity: 0;
    }

    .mobile-menu.active {
      display: block;
      max-height: 500px;
      opacity: 1;
    }

    .mobile-menu a {
      display: block;
      padding: 1rem 2rem;
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 1rem;
      font-weight: 500;
      border-bottom: 1px solid var(--border-subtle);
      transition: color 0.2s ease, background 0.2s ease;
    }

    .mobile-menu a:hover,
    .mobile-menu a.active {
      color: var(--cyan);
      background: rgba(6, 182, 212, 0.1);
    }

    .mobile-menu .nav-cta {
      background: var(--gradient-cyan) !important;
      color: var(--bg-darker) !important;
      margin: 1rem 2rem;
      border-radius: 8px;
      text-align: center;
      border: none;
    }

    .page-hero { padding: 140px 2rem 32px; background: linear-gradient(180deg, var(--bg-dark) 0%, var(--bg-darker) 100%); text-align: center; }
    .page-hero h1 { font-family: 'Space Grotesk', sans-serif; font-size: clamp(2.75rem, 5.5vw, 4rem); font-weight: 700; margin-bottom: 1rem; line-height: 1.2; }
    .page-hero h1 span { color: var(--cyan); }
    .page-hero .subtitle { font-size: 1.2rem; color: var(--text-secondary); max-width: 650px; margin: 0 auto; line-height: 1.7; }

    .support-section { padding: 40px 2rem 100px; }
    .support-container { max-width: 1000px; margin: 0 auto; }

    .support-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 24px; margin-bottom: 80px; }

    .support-card {
      background: var(--bg-card);
      border-radius: 16px;
      padding: 32px;
      border: 1px solid var(--border-subtle);
      text-align: center;
      transition: all 0.3s ease;
      display: flex;
      flex-direction: column;
    }

    .support-card:hover { transform: translateY(-4px); border-color: var(--cyan-dark); }

    .support-icon {
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 20px;
      transition: all 0.3s ease;
    }
    
    .support-card:hover .support-icon {
      transform: translateY(-2px);
    }

    .support-icon svg {
      width: 36px;
      height: 36px;
      stroke: var(--cyan);
      stroke-width: 2.5;
      transition: all 0.3s ease;
    }
    
    .support-card:hover .support-icon svg {
      stroke: var(--cyan-light);
    }

    .support-card h3 { font-size: 1.25rem; font-weight: 600; margin-bottom: 12px; }
    .support-card p { color: var(--text-secondary); font-size: 0.95rem; line-height: 1.6; margin-bottom: 20px; flex-grow: 1; }

    .support-link {
      display: inline-flex; align-items: center; justify-content: center; gap: 8px;
      padding: 12px 24px;
      background: var(--bg-darker);
      color: var(--cyan);
      text-decoration: none;
      border-radius: 8px;
      font-weight: 600;
      font-size: 0.9rem;
      border: 1px solid var(--cyan-dark);
      transition: all 0.2s;
      margin-top: auto;
    }

    .support-link:hover { background: var(--cyan); color: var(--bg-darker); }

    .contact-section { background: var(--bg-dark); border-radius: 20px; padding: 60px; margin-bottom: 80px; }
    .contact-header { text-align: center; margin-bottom: 40px; }
    .contact-header h2 { font-family: 'Space Grotesk', sans-serif; font-size: 1.75rem; margin-bottom: 12px; }
    .contact-header p { color: var(--text-secondary); }

    .contact-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; }

    /* ============================================
       UNIFIED INPUT COMPONENT SYSTEM
       All form fields and info boxes built from this base
       ============================================ */
    
    /* Base input component - used by all form fields */
    .form-group input,
    .form-group textarea,
    .form-group select {
      /* Layout */
      width: 100%;
      padding: 14px 16px;
      box-sizing: border-box;
      
      /* Visual appearance */
      background-color: var(--bg-card);
      border: 1px solid var(--border-subtle);
      border-radius: 10px;
      
      /* Typography - identical across all fields */
      font-family: 'Inter', sans-serif;
      font-size: 1rem;
      font-weight: 400;
      font-style: normal;
      line-height: 1.5;
      color: var(--text-primary);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      
      /* Interaction */
      transition: border-color 0.2s ease;
      outline: none;
    }
    
    /* Placeholder text - consistent across all fields */
    .form-group input::placeholder,
    .form-group textarea::placeholder {
      color: var(--text-muted);
      font-family: 'Inter', sans-serif;
      font-size: 1rem;
      font-weight: 400;
      opacity: 1;
    }
    
    /* Textarea specific */
    .form-group textarea {
      resize: vertical;
      min-height: 120px;
    }
    
    /* Dropdown specific - only difference is arrow icon */
    .form-group select {
      padding-right: 40px;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%239ca3af' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 14px center;
      background-size: 16px;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
      cursor: pointer;
      font-weight: 400 !important;
    }
    
    /* Dropdown options - match input styling exactly */
    .form-group select option {
      background-color: var(--bg-card);
      color: var(--text-primary);
      padding: 12px;
      font-family: 'Inter', sans-serif;
      font-size: 1rem;
      font-weight: 400 !important;
      font-style: normal;
    }
    
    /* Unified hover state - all fields */
    .form-group input:hover,
    .form-group textarea:hover,
    .form-group select:hover {
      border-color: var(--cyan-dark);
      background-color: var(--bg-card);
    }
    
    .form-group select:hover {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%2306b6d4' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
      font-weight: 400 !important;
    }
    
    /* Unified focus state - all fields */
    .form-group input:focus,
    .form-group textarea:focus,
    .form-group select:focus {
      border-color: var(--cyan-dark);
      background-color: var(--bg-card);
    }
    
    .form-group select:focus {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%2306b6d4' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
      font-weight: 400 !important;
    }
    
    .form-group select:active {
      font-weight: 400 !important;
    }
    
    .contact-form { display: flex; flex-direction: column; gap: 20px; }
    .form-group label { 
      display: block; 
      font-size: 0.9rem; 
      font-weight: 500; 
      margin-bottom: 8px; 
      color: var(--text-secondary);
      font-family: 'Inter', sans-serif;
    }

    .submit-btn {
      padding: 16px 32px;
      background: var(--gradient-cyan);
      color: var(--bg-darker);
      border: none; border-radius: 10px;
      font-weight: 600; font-size: 1rem;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .submit-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 30px var(--cyan-glow); }

    .contact-info { display: flex; flex-direction: column; gap: 20px; }

    /* Info cards use the same base component system */
    .info-card {
      /* Same base styling as input fields */
      background-color: var(--bg-card);
      border: 1px solid var(--border-subtle);
      border-radius: 10px;
      padding: 14px 16px;
      box-sizing: border-box;
      
      /* Same typography as input fields */
      font-family: 'Inter', sans-serif;
      font-size: 1rem;
      font-weight: 400;
      line-height: 1.5;
      color: var(--text-primary);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      
      /* Same hover behavior */
      transition: border-color 0.2s ease;
    }
    
    .info-card:hover {
      border-color: var(--cyan-dark);
      background-color: var(--bg-card);
    }
    
    .info-card h3 { 
      display: flex; 
      align-items: center; 
      gap: 10px; 
      font-family: 'Inter', sans-serif;
      font-size: 1rem;
      font-weight: 400;
      margin-bottom: 8px;
      color: var(--text-primary);
    }
    
    .info-card h3 svg { 
      width: 20px; 
      height: 20px; 
      stroke: var(--cyan);
      flex-shrink: 0;
    }
    
    .info-card p { 
      font-family: 'Inter', sans-serif;
      font-size: 1rem;
      font-weight: 400;
      line-height: 1.5;
      color: var(--text-secondary);
    }
    
    .info-card a { 
      color: var(--cyan); 
      text-decoration: none;
      font-family: 'Inter', sans-serif;
      font-size: 1rem;
      font-weight: 400;
    }
    
    .info-card a:hover { 
      text-decoration: underline; 
    }

    .tips-section { margin-top: 0; }
    .tips-title { font-family: 'Space Grotesk', sans-serif; font-size: 1.5rem; text-align: center; margin-bottom: 32px; }

    .tips-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; }
    .tip-card { background: var(--bg-card); padding: 24px; border-radius: 12px; border: 1px solid var(--border-subtle); }
    .tip-card h4 { display: flex; align-items: center; gap: 10px; font-size: 1rem; margin-bottom: 10px; }
    .tip-card h4 svg { width: 20px; height: 20px; stroke: var(--cyan); }
    .tip-card p { color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6; }

    .footer { padding: 60px 2rem 30px; background: var(--bg-darker); border-top: 1px solid var(--border-subtle); }
    .footer-container { max-width: 1200px; margin: 0 auto; }
    .footer-grid { display: grid; grid-template-columns: 2fr repeat(3, 1fr); gap: 40px; margin-bottom: 40px; }
    .footer-brand { display: flex; align-items: center; gap: 12px; margin-bottom: 16px; }
    .footer-brand .logo-icon { width: 36px; height: 36px; }
    .footer-brand .logo-icon svg { width: 18px; height: 18px; }
    .footer-brand span { font-family: 'Space Grotesk', sans-serif; font-weight: 600; }
    .footer-tagline { color: var(--text-muted); font-size: 0.9rem; }
    .footer-title { font-weight: 600; margin-bottom: 16px; }
    .footer-links { list-style: none; }
    .footer-links li { margin-bottom: 10px; }
    .footer-links a { color: var(--text-muted); text-decoration: none; font-size: 0.9rem; transition: color 0.2s; }
    .footer-links a:hover { color: var(--cyan); }
    .footer-bottom { padding-top: 30px; border-top: 1px solid var(--border-subtle); text-align: center; }
    .footer-copyright { color: var(--text-muted); font-size: 0.85rem; }

    @media (max-width: 968px) {
      .support-grid { grid-template-columns: 1fr; max-width: 400px; margin-left: auto; margin-right: auto; }
      .contact-grid { grid-template-columns: 1fr; }
    }

    @media (max-width: 768px) {
      .nav-links { 
        display: none !important; 
      }
      
      .menu-toggle {
        display: block;
      }
      
      .mobile-menu {
        display: block;
      }
      .tips-grid { grid-template-columns: 1fr; }
      .footer-grid { grid-template-columns: 1fr 1fr; }
      .contact-section { padding: 40px 24px; }
    }
  </style>
</head>
<body>
  <nav>
    <div class="nav-container">
      <a href="index.html" class="logo">
        <div class="logo-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg></div>
        <span class="logo-text">Local Password Vault</span>
      </a>
      <div class="nav-links">
        <a href="features.html">Features</a>
        <a href="about.html">About</a>
        <a href="security.html">Security</a>
        <a href="pricing.html">Pricing</a>
        <a href="faq.html">FAQs</a>
        <a href="support.html" class="active">Support</a>
        <a href="pricing.html" class="nav-cta">Get Started</a>
      </div>
    </div>
  </nav>

  <section class="page-hero">
    <h1 class="animate">Support <span>Resources</span></h1>
    <p class="subtitle animate delay-1">Questions about setup, features, or troubleshooting? I'm here to help.</p>
  </section>

  <section class="support-section">
    <div class="support-container">

      <div class="support-grid">
        <div class="support-card animate delay-1">
          <div class="support-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><path d="M12 17h.01"/></svg>
          </div>
          <h3>FAQs</h3>
          <p>Find answers to common questions about installation, security, backups, and more.</p>
          <a href="faq.html" class="support-link">View FAQs</a>
        </div>
        <div class="support-card animate delay-2">
          <div class="support-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
          </div>
          <h3>Email Support</h3>
          <p>Technical questions? License issues? Send a message and I'll help you out.</p>
          <a href="mailto:support@LocalPasswordVault.com" class="support-link">Send Email</a>
        </div>
        <div class="support-card animate delay-3">
          <div class="support-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
          </div>
          <h3>Documentation</h3>
          <p>Step-by-step guides for getting started, importing data, and using features.</p>
          <a href="faq.html" class="support-link">View FAQs</a>
        </div>
      </div>

      <!-- Ticket Status Section -->
      <div class="contact-section animate" id="ticket-status-section" style="display: none; margin-bottom: 40px;">
        <div class="contact-header">
          <h2>Check Ticket Status</h2>
          <p>Enter your email and ticket number to view your support ticket.</p>
        </div>
        <div style="max-width: 500px; margin: 0 auto;">
          <form id="ticket-lookup-form" style="display: flex; flex-direction: column; gap: 16px;">
            <div class="form-group">
              <label for="lookup-email">Email</label>
              <input type="email" id="lookup-email" name="email" placeholder="your@email.com" required>
            </div>
            <div class="form-group">
              <label for="lookup-ticket">Ticket Number</label>
              <input type="text" id="lookup-ticket" name="ticket_number" placeholder="TKT-2025-001234" required>
            </div>
            <button type="submit" class="submit-btn">View Ticket</button>
          </form>
          <div id="ticket-display" style="display: none; margin-top: 32px;"></div>
        </div>
      </div>

      <div style="text-align: center; margin-bottom: 32px;" class="animate">
        <button onclick="document.getElementById('ticket-status-section').style.display = 
                         document.getElementById('ticket-status-section').style.display === 'none' ? 'block' : 'none';
                         if (document.getElementById('ticket-status-section').style.display === 'block') {
                           document.getElementById('ticket-status-section').scrollIntoView({ behavior: 'smooth' });
                         }" 
                style="padding: 12px 24px; background: transparent; border: 2px solid var(--cyan); color: var(--cyan); 
                       border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.2s;"
                onmouseover="this.style.background='var(--cyan)'; this.style.color='var(--bg-darker)';"
                onmouseout="this.style.background='transparent'; this.style.color='var(--cyan)';">
          View My Tickets
        </button>
      </div>

      <div class="contact-section animate">
        <div class="contact-header">
          <h2>Create Support Ticket</h2>
          <p>Describe your issue or question and include your OS and app version.</p>
        </div>
        <div class="contact-grid">
          <form class="contact-form">
            <div class="form-group">
              <label for="name">Name</label>
              <input type="text" id="name" name="name" placeholder="Your name" required>
            </div>
            <div class="form-group">
              <label for="email">Email</label>
              <input type="email" id="email" name="email" placeholder="your@email.com" required>
            </div>
            <div class="form-group">
              <label for="category">Category</label>
              <select id="category" name="category" required>
                <option value="other">General Question</option>
                <option value="technical">Technical Issue</option>
                <option value="billing">License / Billing</option>
                <option value="license">License Activation</option>
                <option value="feature">Feature Request</option>
                <option value="bug">Bug Report</option>
              </select>
            </div>
            <div class="form-group">
              <label for="license_key">License Key (Optional)</label>
              <input type="text" id="license_key" name="license_key" placeholder="XXXX-XXXX-XXXX-XXXX">
            </div>
            <div class="form-group">
              <label for="subject">Subject</label>
              <input type="text" id="subject" name="subject" placeholder="Brief description of your issue" required>
            </div>
            <div class="form-group">
              <label for="message">Message</label>
              <textarea id="message" name="message" placeholder="Describe your question or issue in detail..." required></textarea>
            </div>
            <button type="submit" class="submit-btn" id="submit-btn">Send Message</button>
            <div id="form-message" style="display: none; margin-top: 16px; padding: 12px; border-radius: 8px;"></div>
          </form>
          <div class="contact-info">
            <div class="info-card">
              <h3><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>Email</h3>
              <p><a href="mailto:support@LocalPasswordVault.com">support@LocalPasswordVault.com</a></p>
            </div>
            <div class="info-card">
              <h3><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>Documentation</h3>
              <p>Check the <a href="faq.html">FAQs</a> first—most questions are answered there.</p>
            </div>
            <div class="info-card">
              <h3><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>Include in Your Message</h3>
              <p>• Your operating system (Windows/Mac/Linux)<br>• App version<br>• Description of the issue</p>
            </div>
          </div>
        </div>
      </div>

      <div class="tips-section animate">
        <h2 class="tips-title">Quick Tips</h2>
        <div class="tips-grid">
          <div class="tip-card">
            <h4><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>Back Up Regularly</h4>
            <p>Export your vault to a USB drive or external storage periodically. You control your backups.</p>
          </div>
          <div class="tip-card">
            <h4><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>Master Password</h4>
            <p>Choose something strong but memorable. I cannot recover it if you forget.</p>
          </div>
          <div class="tip-card">
            <h4><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>Importing Data</h4>
            <p>Export from your old password manager as CSV, then import into LPV. Delete the CSV after.</p>
          </div>
          <div class="tip-card">
            <h4><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>Quick Access</h4>
            <p>Use the Floating Icon for fast credential access without opening the full app.</p>
          </div>
        </div>
      </div>

    </div>
  </section>

  <footer class="footer">
    <div class="footer-container">
      <div class="footer-grid">
        <div>
          <div class="footer-brand">
            <div class="logo-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg></div>
            <span>Local Password Vault</span>
          </div>
          <p class="footer-tagline">Your passwords, secured locally. No cloud, no tracking, no risks.</p>
        </div>
        <div>
          <h4 class="footer-title">Product</h4>
          <ul class="footer-links">
            <li><a href="features.html">Features</a></li>
            <li><a href="security.html">Security</a></li>
            <li><a href="pricing.html">Pricing</a></li>
          </ul>
        </div>
        <div>
          <h4 class="footer-title">Resources</h4>
          <ul class="footer-links">
            <li><a href="about.html">About Us</a></li>
            <li><a href="articles.html">Security Articles</a></li>
            <li><a href="faq.html">FAQs</a></li>
            <li><a href="support.html">Support</a></li>
          </ul>
        </div>
        <div>
          <h4 class="footer-title">Legal</h4>
          <ul class="footer-links">
            <li><a href="privacy.html">Privacy Policy</a></li>
            <li><a href="disclaimer.html">Disclaimer</a></li>
            <li><a href="eula.html">EULA</a></li>
            <li><a href="refund.html">Refund Policy</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p class="footer-copyright">© 2025 Local Password Vault. All rights reserved. Built with ♥ in Dallas, Texas.</p>
      </div>
    </div>
  </footer>

  <script>
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('visible'); });
    }, { threshold: 0.1 });
    document.querySelectorAll('.animate').forEach(el => observer.observe(el));

    // Use relative path for same-origin API calls (proxied via Nginx)

    // Form submission handler
    const contactForm = document.querySelector('.contact-form');
    const submitBtn = document.getElementById('submit-btn');
    const formMessage = document.getElementById('form-message');

    contactForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const formData = {
        name: document.getElementById('name').value.trim(),
        email: document.getElementById('email').value.trim(),
        subject: document.getElementById('subject').value.trim(),
        description: document.getElementById('message').value.trim(),
        category: document.getElementById('category').value,
        license_key: document.getElementById('license_key').value.trim() || undefined,
      };

      // Validate
      if (!formData.email || !formData.subject || !formData.description) {
        showMessage('Please fill in all required fields.', 'error');
        return;
      }

      // Disable submit button
      submitBtn.disabled = true;
      submitBtn.textContent = 'Sending...';

      try {
        const response = await fetch('/api/tickets', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(formData),
        });

        const data = await response.json();

        if (data.success) {
          showMessage(
            `Ticket created successfully! Your ticket number is: <strong>${data.ticket.ticket_number}</strong><br>
            Please save this number. You'll receive a confirmation email shortly.`,
            'success'
          );
          contactForm.reset();
          
          // Show ticket status section
          document.getElementById('ticket-status-section').style.display = 'block';
          document.getElementById('lookup-email').value = formData.email;
          document.getElementById('lookup-ticket').value = data.ticket.ticket_number;
        } else {
          showMessage(data.error || 'Failed to create ticket. Please try again.', 'error');
        }
      } catch (error) {
        console.error('Error creating ticket:', error);
        showMessage('Failed to create ticket. Please try again later or email support@localpasswordvault.com', 'error');
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'Send Message';
      }
    });

    // Ticket lookup handler
    const ticketLookupForm = document.getElementById('ticket-lookup-form');
    const ticketDisplay = document.getElementById('ticket-display');

    ticketLookupForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const email = document.getElementById('lookup-email').value.trim();
      const ticketNumber = document.getElementById('lookup-ticket').value.trim();

      if (!email || !ticketNumber) {
        showTicketMessage('Please enter both email and ticket number.', 'error');
        return;
      }

      try {
        const response = await fetch(`${API_BASE_URL}/${ticketNumber}?email=${encodeURIComponent(email)}`);
        const data = await response.json();

        if (data.success) {
          displayTicket(data.ticket);
        } else {
          showTicketMessage(data.error || 'Ticket not found.', 'error');
          ticketDisplay.style.display = 'none';
        }
      } catch (error) {
        console.error('Error fetching ticket:', error);
        showTicketMessage('Failed to load ticket. Please try again later.', 'error');
        ticketDisplay.style.display = 'none';
      }
    });

    function showMessage(message, type) {
      formMessage.style.display = 'block';
      formMessage.innerHTML = message;
      formMessage.style.backgroundColor = type === 'success' ? 'rgba(16, 185, 129, 0.1)' : 'rgba(239, 68, 68, 0.1)';
      formMessage.style.border = `1px solid ${type === 'success' ? '#10b981' : '#ef4444'}`;
      formMessage.style.color = type === 'success' ? '#10b981' : '#ef4444';
      
      // Scroll to message
      formMessage.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    }

    function showTicketMessage(message, type) {
      ticketDisplay.style.display = 'block';
      ticketDisplay.innerHTML = `
        <div style="padding: 16px; border-radius: 8px; background: ${type === 'success' ? 'rgba(16, 185, 129, 0.1)' : 'rgba(239, 68, 68, 0.1)'}; 
                     border: 1px solid ${type === 'success' ? '#10b981' : '#ef4444'}; 
                     color: ${type === 'success' ? '#10b981' : '#ef4444'};">
          ${message}
        </div>
      `;
    }

    function displayTicket(ticket) {
      const statusColors = {
        open: '#06b6d4',
        in_progress: '#f59e0b',
        waiting_customer: '#8b5cf6',
        resolved: '#10b981',
        closed: '#6b7280',
      };

      const statusLabels = {
        open: 'Open',
        in_progress: 'In Progress',
        waiting_customer: 'Waiting for Customer',
        resolved: 'Resolved',
        closed: 'Closed',
      };

      const categoryLabels = {
        technical: 'Technical Issue',
        billing: 'Billing',
        license: 'License',
        feature: 'Feature Request',
        bug: 'Bug Report',
        other: 'General Question',
      };

      let messagesHtml = '';
      if (ticket.messages && ticket.messages.length > 0) {
        messagesHtml = ticket.messages.map(msg => `
          <div style="margin-bottom: 20px; padding: 16px; background: var(--bg-card); border-radius: 8px; border: 1px solid var(--border-subtle);">
            <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
              <div>
                <strong style="color: ${msg.sender_type === 'customer' ? 'var(--cyan)' : 'var(--green)'};">
                  ${msg.sender_type === 'customer' ? 'You' : 'Support'}
                </strong>
                <span style="color: var(--text-muted); font-size: 0.9rem; margin-left: 12px;">
                  ${new Date(msg.created_at).toLocaleString()}
                </span>
              </div>
            </div>
            <div style="color: var(--text-secondary); white-space: pre-wrap; line-height: 1.6;">
              ${escapeHtml(msg.message)}
            </div>
          </div>
        `).join('');
      }

      ticketDisplay.style.display = 'block';
      ticketDisplay.innerHTML = `
        <div style="background: var(--bg-card); border-radius: 12px; padding: 32px; border: 1px solid var(--border-subtle);">
          <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 24px; flex-wrap: wrap; gap: 16px;">
            <div>
              <h3 style="font-size: 1.5rem; margin-bottom: 8px;">${escapeHtml(ticket.subject)}</h3>
              <p style="color: var(--text-muted);">Ticket: <strong style="color: var(--cyan);">${ticket.ticket_number}</strong></p>
            </div>
            <div style="text-align: right;">
              <span style="display: inline-block; padding: 6px 16px; border-radius: 20px; font-size: 0.85rem; font-weight: 600;
                           background: ${statusColors[ticket.status]}20; color: ${statusColors[ticket.status]};">
                ${statusLabels[ticket.status]}
              </span>
            </div>
          </div>

          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 24px; padding: 20px; background: var(--bg-darker); border-radius: 8px;">
            <div>
              <div style="color: var(--text-muted); font-size: 0.85rem; margin-bottom: 4px;">Category</div>
              <div style="font-weight: 600;">${categoryLabels[ticket.category] || ticket.category}</div>
            </div>
            <div>
              <div style="color: var(--text-muted); font-size: 0.85rem; margin-bottom: 4px;">Created</div>
              <div style="font-weight: 600;">${new Date(ticket.created_at).toLocaleDateString()}</div>
            </div>
            <div>
              <div style="color: var(--text-muted); font-size: 0.85rem; margin-bottom: 4px;">Last Updated</div>
              <div style="font-weight: 600;">${new Date(ticket.updated_at).toLocaleDateString()}</div>
            </div>
          </div>

          <div style="margin-bottom: 32px;">
            <h4 style="margin-bottom: 12px; color: var(--text-primary);">Initial Message</h4>
            <div style="padding: 16px; background: var(--bg-darker); border-radius: 8px; color: var(--text-secondary); white-space: pre-wrap; line-height: 1.6;">
              ${escapeHtml(ticket.description)}
            </div>
          </div>

          ${ticket.messages && ticket.messages.length > 0 ? `
            <div style="margin-bottom: 24px;">
              <h4 style="margin-bottom: 16px; color: var(--text-primary);">Conversation (${ticket.messages.length} message${ticket.messages.length !== 1 ? 's' : ''})</h4>
              ${messagesHtml}
            </div>
          ` : ''}

          <div style="border-top: 1px solid var(--border-subtle); padding-top: 24px; margin-top: 24px;">
            <h4 style="margin-bottom: 16px; color: var(--text-primary);">Add a Reply</h4>
            <form id="reply-form" style="display: flex; flex-direction: column; gap: 16px;">
              <textarea id="reply-message" placeholder="Type your message..." required 
                        style="width: 100%; padding: 14px 16px; background: var(--bg-darker); border: 1px solid var(--border-subtle); 
                               border-radius: 10px; color: var(--text-primary); font-family: 'Inter', sans-serif; 
                               font-size: 1rem; min-height: 120px; resize: vertical;"></textarea>
              <button type="submit" class="submit-btn" style="align-self: flex-start;">Send Reply</button>
            </form>
          </div>
        </div>
      `;

      // Handle reply form
      const replyForm = document.getElementById('reply-form');
      if (replyForm) {
        replyForm.addEventListener('submit', async (e) => {
          e.preventDefault();
          const message = document.getElementById('reply-message').value.trim();
          if (!message) return;

          const submitBtn = replyForm.querySelector('button[type="submit"]');
          submitBtn.disabled = true;
          submitBtn.textContent = 'Sending...';

          try {
            const response = await fetch(`/api/tickets/${ticket.ticket_number}/messages`, {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify({
                email: document.getElementById('lookup-email').value.trim(),
                name: ticket.name || '',
                message: message,
              }),
            });

            const data = await response.json();
            if (data.success) {
              // Reload ticket to show new message
              ticketLookupForm.dispatchEvent(new Event('submit'));
              document.getElementById('reply-message').value = '';
            } else {
              alert(data.error || 'Failed to send reply');
            }
          } catch (error) {
            console.error('Error sending reply:', error);
            alert('Failed to send reply. Please try again.');
          } finally {
            submitBtn.disabled = false;
            submitBtn.textContent = 'Send Reply';
          }
        });
      }
    }

    function escapeHtml(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }

    // Check for ticket number in URL
    const urlParams = new URLSearchParams(window.location.search);
    const ticketNumber = urlParams.get('ticket');
    const email = urlParams.get('email');
    if (ticketNumber && email) {
      document.getElementById('ticket-status-section').style.display = 'block';
      document.getElementById('lookup-email').value = email;
      document.getElementById('lookup-ticket').value = ticketNumber;
      // Auto-load ticket
      setTimeout(() => ticketLookupForm.dispatchEvent(new Event('submit')), 500);
    }
  </script>
</body>
</html>


